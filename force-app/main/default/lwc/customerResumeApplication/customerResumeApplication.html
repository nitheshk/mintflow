<template>
  <c-spinner-utils visible={showSpinner} size="large"></c-spinner-utils>
  <template if:false={isAuthenticated}>
    <div class="slds-align_absolute-center slds-m-around_x-large">
      <lightning-card
        title="Resume from where you just left behind"
        icon-name="standard:user"
      >
        <div class="slds-var-m-around_medium">
          <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="mflow__LastName__c"
                label="Last Name"
                placeholder="Last Name"
                pattern={alphanumValidation}
                message-when-pattern-mismatch={alphanumValidationMessage}
                field-level-help="Enter Last Name"
                maxlength="20"
                value={applicantData.mflow__LastName__c}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                data-fieldname="mflow__LastFourDigitsofSSN__c"
                label="Last 4 digits of SSN"
                placeholder="Last 4 digits of SSN"
                field-level-help={alphanumHelpText}
                maxlength="4"
                value={applicantData.mflow__LastFourDigitsofSSN__c}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="mflow__Email__c"
                label="Email"
                placeholder="Email"
                pattern={alphanumValidation}
                message-when-pattern-mismatch={alphanumValidationMessage}
                field-level-help={alphanumHelpText}
                maxlength="40"
                value={applicantData.mflow__Email__c}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-var-p-around_medium" style="text-align: end">
              <lightning-button-group>
                <lightning-button
                  variant="brand"
                  label="Login"
                  title="Login"
                  onclick={handleSubmit}
                  class="slds-var-m-left_x-small"
                  icon-name="utility:save"
                  icon-position="left"
                ></lightning-button>

                <lightning-button
                  variant="brand"
                  label="Cancel"
                  title="Cancel"
                  onclick={handleCancel}
                  class="slds-var-m-left_x-small"
                  icon-name="utility:close"
                  icon-position="right"
                ></lightning-button>
              </lightning-button-group>
            </div>
          </div>
        </div>
      </lightning-card>
    </div>
  </template>
  <template if:true={isAuthenticated}>
    <lightning-accordion>
      <template for:each={applications} for:item="app">
        <lightning-accordion-section name={app.Name} label={app.Name} key={app}>
          <p>{app.Name}</p>
        </lightning-accordion-section>
      </template>
    </lightning-accordion>
  </template>
</template>
