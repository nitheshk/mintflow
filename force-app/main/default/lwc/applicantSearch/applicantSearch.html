<template>
  <lightning-card>
    <div>
      <div class="slds-grid slds-wrap">
        <div class="slds-col slds-size_4-of-12 slds-var-p-around_x-small">
          <lightning-input
            type="text"
            value="searchString"
            placeholder="Globaly search your text "
            onchange={handleAccountName}
          ></lightning-input>
        </div>
        <div class="slds-col slds-size_4-of-12 slds-var-m-around_large">
          <lightning-button
            label="Search"
            variant="brand"
            onclick={handleSearch}
            class="validate"
            icon-name="utility:search"
            icon-position="right"
          ></lightning-button>
        </div>
      </div>
    </div>
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__FirstName__c"
          label="First Name"
          value={searchFilter.mflow__FirstName__c}
          placeholder="First Name"
          pattern={alphanumValidation}
          maxlength="40"
          message-when-too-long={messageWhenTooLong}
          onchange={handleChange}
          class="validate"
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__LastName__c"
          label="Last Name"
          value={searchFilter.mflow__LastName__c}
          placeholder="Last Name"
          pattern={alphanumValidation}
          maxlength="40"
          class="validate"
          message-when-too-long={messageWhenTooLong}
          onchange={handleChange}
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__Phone__c"
          label="Mobile Phone"
          value={searchFilter.mflow__Phone__c}
          placeholder="Mobile number"
          field-level-help={phoneNumberValidationMessage}
          maxlength="10"
          minlength="10"
          pattern={phonenumber}
          message-when-pattern-mismatch={phoneNumberValidationMessage}
          message-when-too-short={phoneNumberValidationMessage}
          message-when-bad-input={phoneNumberValidationMessage}
          onchange={handleChange}
          class="validate"
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__Email__c"
          type="Email"
          label="Email"
          value={searchFilter.mflow__Email__c}
          placeholder="abc@email.com"
          onchange={handleChange}
          class="validate"
        ></lightning-input>
      </div>
    </div>
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__SSN__c"
          maxlength="4"
          label="Last 4 digits of SSN"
          value={searchFilter.mflow__SSN__c}
          placeholder="XXXX"
          onchange={handleChange}
          class="validate"
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-combobox
          data-fieldname="dateRange"
          name="dateRange"
          label="Custom Data Range"
          value={searchFilter.dateRange}
          placeholder="Select Custom Range "
          options={options}
          class="validate"
          onchange={handleChange}
        ></lightning-combobox>
      </div>
    </div>
    <div class="slds-modal__footer">
      <lightning-button-group>
        <lightning-button
          variant="brand"
          label="Apply Filter"
          title="Apply Filter"
          data-status="Approve"
          onclick={applyFilter}
          class="slds-var-m-left_x-small"
          icon-name="action:approval"
          icon-position="right"
        ></lightning-button>
        <lightning-button
          variant="Neutral"
          label="Clear"
          title="Clear"
          data-status="Clear"
          onclick={clearFilter}
          class="slds-var-m-left_x-small"
          icon-name="action:close"
          icon-position="right"
        ></lightning-button>
      </lightning-button-group>
    </div>
    <br />
    <div>
      <div class="slds-grid slds-wrap">
        <div if:true={searchData}>
          <div class="slds-p-horizontal_x-large">
            <lightning-datatable
              data={searchData}
              columns={columnsdata}
              key-field="Id"
              sorted-by={sortBy}
              sorted-direction={sortDirection}
              onsort={handleSort}
              default-sort-direction={defaultSortDirection}
              hide-checkbox-column="true"
              show-row-number-column="true"
            >
              ></lightning-datatable
            >
          </div>
        </div>
      </div>
    </div>
  </lightning-card>
</template>
