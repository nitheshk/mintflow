<template>
  <lightning-card>
    <div>
      <div class="slds-grid slds-wrap">
        <div class="slds-col slds-size_4-of-12 slds-var-p-around_x-small">
          <lightning-input
            type="text"
            placeholder="Globaly search your text "
            value={searchString}
            onchange={handleAccountName}
          ></lightning-input>
        </div>
        <div class="slds-col slds-size_4-of-12 slds-var-m-around_large">
          <lightning-button
            label="Search"
            variant="brand"
            onclick={handleSearch}
            class="validate"
            icon-name="utility:search"
            icon-position="right"
          ></lightning-button>
        </div>
      </div>
    </div>
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="mflow__ExternalApplicationNumber__c"
          label="LOS Number"
          value={searchFilter.mflow__ExternalApplicationNumber__c}
          placeholder="LOS Number"
          pattern={alphanumValidation}
          maxlength="10"
          class="validate"
          message-when-too-long={messageWhenTooLong}
          onchange={handleChange}
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="Name"
          label="Application Number"
          value={searchFilter.Name}
          placeholder="Application Number"
          pattern={alphanumValidation}
          maxlength="20"
          class="validate"
          message-when-too-long={messageWhenTooLong}
          onchange={handleChange}
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="CreatedDateFrom"
          label="Date From"
          value={searchFilter.CreatedDateFrom}
          placeholder="Date From"
          class="validate"
          maxlength="10"
          message-when-too-long={messageWhenTooLong}
          onchange={handleChange}
          type="date"
        ></lightning-input>
      </div>
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-input
          data-fieldname="CreatedDateTo"
          label="Date To "
          value={searchFilter.CreatedDateTo}
          placeholder="Date To"
          class="validate"
          maxlength="10"
          onchange={handleChange}
          type="date"
        ></lightning-input>
      </div>
    </div>
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_1-of-4 slds-var-p-around_x-small">
        <lightning-combobox
          data-fieldname="dateRange"
          name="dateRange"
          label="Custom Data Range"
          value={searchFilter.dateRange}
          placeholder="Select Custom Range "
          options={options}
          class="validate"
          onchange={handleChange}
        ></lightning-combobox>
      </div>
    </div>
    <div class="slds-modal__footer">
      <lightning-button-group>
        <lightning-button
          variant="brand"
          label="Apply Filter"
          title="Apply Filter"
          data-status="Approve"
          onclick={applyFilter}
          class="slds-var-m-left_x-small"
          icon-name="action:approval"
          icon-position="right"
        ></lightning-button>
        <lightning-button
          variant="Neutral"
          label="Clear"
          title="Clear"
          data-status="Clear"
          onclick={clearFilter}
          class="slds-var-m-left_x-small"
          icon-name="action:close"
          icon-position="right"
        ></lightning-button>
      </lightning-button-group>
    </div>
    <br />
    <div>
      <div class="slds-grid slds-wrap">
        <div if:true={searchData}>
          <div class="slds-p-horizontal_x-large">
            <lightning-datatable
              data={searchData}
              columns={columnsdata}
              key-field="Id"
              sorted-by={sortBy}
              sorted-direction={sortDirection}
              onsort={handleSort}
              default-sort-direction={defaultSortDirection}
              hide-checkbox-column="true"
              show-row-number-column="true"
            >
              ></lightning-datatable
            >
          </div>
        </div>
      </div>
    </div>
  </lightning-card>
</template>
