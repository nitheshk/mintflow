<template>
  <c-spinner-utils visible={showSpinner} size="large"></c-spinner-utils>
  <template if:true={showStatusWidget}>
    <lightning-card>
      <div class="slds-var-m-around_medium">
        <div class="slds-grid slds-wrap">
          <div class="slds-col slds-size_1-of-2 slds-var-p-around_x-small">
            <template if:false={userObj.IsActive}>
              <h2>
                Status : Inactive
                <lightning-icon
                  icon-name="utility:error"
                  alternative-text="user inactive"
                  variant="error"
                  title="error variant x-small"
                  size="x-small"
                ></lightning-icon>
              </h2>

              <br />
            </template>
            <template if:true={userObj.IsActive}>
              <div>
                <h2>
                  Status : Active
                  <lightning-icon
                    icon-name="utility:success"
                    alternative-text="Success!"
                    variant="success"
                    title="success variant xx-small"
                    size="xx-small"
                  ></lightning-icon>
                </h2>
              </div>
            </template>
          </div>
          <div class="slds-col slds-size_1-of-2 slds-var-p-around_x-small">
            <lightning-button-group>
              <lightning-button
                label={buttonLabel}
                icon-name={buttonIcon}
                variant="brand"
                class="slds-var-m-left_x-small slds-align_absolute-center"
                icon-position="right"
                onclick={openModal}
              ></lightning-button>
            </lightning-button-group>
          </div>
        </div>
      </div>

      <template if:true={isModalOpen}>
        <section
          role="dialog"
          tabindex="-1"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
          class="slds-modal slds-fade-in-open"
        >
          <div class="slds-modal__container">
            <header class="slds-modal__header slds-modal__header_empty">
              <button
                class="
                  slds-button slds-button_icon
                  slds-modal__close
                  slds-button_icon-inverse
                "
                title="Close"
                onclick={closeModal}
              >
                <lightning-icon
                  icon-name="utility:close"
                  alternative-text="close"
                  variant="inverse"
                  size="small"
                ></lightning-icon>
              </button>
            </header>
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-1"
            >
              <br />
              <h4>{displayMessage}</h4>
              <br />
            </div>
            <footer class="slds-modal__footer">
              <lightning-button-group>
                <lightning-button
                  variant="Neutral"
                  label="close"
                  title="Close"
                  onclick={closeModal}
                  class="slds-var-m-left_x-small"
                  icon-name="utility:close"
                  icon-position="left"
                ></lightning-button>
                <lightning-button
                  title={buttonLabel}
                  variant="brand"
                  label={buttonLabel}
                  icon-name={buttonIcon}
                  onclick={buttonAction}
                  class="slds-var-m-left_x-small"
                  icon-position="right"
                ></lightning-button>
              </lightning-button-group>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </lightning-card>
  </template>
</template>
