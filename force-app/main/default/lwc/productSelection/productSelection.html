<template>
  <template if:true={productsToShow}>
    <lightning-card>
      <template for:each={productTypes} for:item="productType">
        <lightning-button
          key={productType}
          variant="brand"
          label={productType}
          title="Primary action"
          onclick={handleProductTypeChange}
          class="slds-var-m-left_small slds-var-m-around_medium product-type-btn"
          data-type={productType}
        ></lightning-button>
      </template>
      <template if:true={productSelectedList}>
        <div
          class="outer-card slds-box slds-p-around_none slds-m-top_x-large slds-m-bottom_medium slds-m-horizontal_medium"
        >
          <lightning-layout>
            <div class="card-custom-title">Selected Product</div>
            <lightning-layout-item
              for:each={productSelectedList}
              for:item="item"
              key={item.id}
              size="2"
              padding="around-medium"
            >
              <lightning-layout class="slds-align_absolute-center border-right">
                <lightning-layout-item size="4">
                  <img src={item.mflow__ImageURL__c} alt="Product" class="img-responsive" />
                </lightning-layout-item>
                <lightning-layout-item size="8" class="slds-p-left_small">
                  <p class="sub-category font-weight-bold">{item.mflow__DisplayLabel__c }</p>
                </lightning-layout-item>
              </lightning-layout>
            </lightning-layout-item>
            <lightning-button
              variant="brand"
              label={productLabel}
              title="Apply"
              onclick={handleCerificateProductSelection}
              class="slds-var-m-left_medium slds-var-m-around_medium card-footer-right-btn"
            ></lightning-button>
          </lightning-layout>
        </div>
      </template>
      <lightning-layout multiple-rows horizontal-align="space" vertical-align="center">
        <!-- <div class="slds-grid slds-wrap"> -->
        <template for:each={productsToShow} for:item="product">
          <!-- <div key={product.id} class="slds-col slds-size_1-of-4 slds-var-p-around_x-small"> -->
          <lightning-layout-item
            key={product.id}
            padding="around-small"
            size={defaulSize}
            small-device-size={smallDeviceSize}
            medium-device-size={mediumDeviceSize}
            large-device-size={largeDeviceSize}
          >
            <c-product-card
              key={product.id}
              product={product}
              onproductselection={handleProductSelection}
            ></c-product-card>
          </lightning-layout-item>
          <!-- </div> -->
        </template>
        <!-- </div> -->
      </lightning-layout>
    </lightning-card>
  </template>
</template>
