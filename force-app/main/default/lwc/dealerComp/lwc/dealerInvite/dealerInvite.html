<template>
  <c-spinner-utils visible={showSpinner} size="large"></c-spinner-utils>
  <template if:false={isInvited}>
    <div class="slds-align_absolute-center slds-m-around_x-large">
      <lightning-card title="Invite Dealer" icon-name="standard:record">
        <div class="slds-var-m-around_medium">
          <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                data-fieldname="FirstName"
                label="First Name"
                placeholder="First Name"
                pattern={alphanumValidation}
                message-when-pattern-mismatch={alphanumValidationMessage}
                field-level-help={alphanumHelpText}
                maxlength="40"
                value={invitedDealerRecord.FirstName}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="LastName"
                label="Last Name"
                placeholder="Last Name"
                pattern={alphanumValidation}
                message-when-pattern-mismatch={alphanumValidationMessage}
                field-level-help={alphanumHelpText}
                maxlength="40"
                message-when-value-missing="Please enter Last Name"
                value={invitedDealerRecord.LastName}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="Company"
                label="Company Name"
                placeholder="Company Name"
                pattern={alphanumValidation}
                message-when-pattern-mismatch={alphanumValidationMessage}
                field-level-help={alphanumHelpText}
                maxlength="100"
                message-when-value-missing="Please enter Company Name"
                value={invitedDealerRecord.Company}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="MobilePhone"
                label="Mobile Phone"
                value={invitedDealerRecord.Phone}
                placeholder="Enter Mobile number"
                field-level-help={phoneNumberValidationMessage}
                maxlength="10"
                minlength="10"
                pattern={phonenumber}
                message-when-pattern-mismatch={phoneNumberValidationMessage}
                message-when-too-short={phoneNumberValidationMessage}
                message-when-bad-input={phoneNumberValidationMessage}
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-input
                required
                data-fieldname="Email"
                type="Email"
                value={invitedDealerRecord.Email}
                label="Email"
                placeholder="example@company.com"
                message-when-value-missing="Please enter your email address"
                onchange={handleChange}
                class="validation"
              ></lightning-input>
            </div>

            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
              <lightning-combobox
                required
                data-fieldname="LeadSource"
                name="LeadSource"
                label="Lead Source"
                value={invitedDealerRecord.LeadSource}
                placeholder="ex.. Web"
                options={leadSource}
                onchange={handleChange}
                class="validation"
              ></lightning-combobox>
            </div>
          </div>
          <div class="slds-var-p-around_medium" style="text-align: end">
            <lightning-button-group>
              <lightning-button
                label="Invite"
                variant="brand"
                title="Invite"
                icon-name="utility:adduser"
                class="slds-var-m-left_x-small"
                icon-position="left"
                onclick={createLead}
              ></lightning-button>

              <lightning-button
                label="Clear"
                icon-name="utility:close"
                variant="brand"
                title="Clear"
                class="slds-var-m-left_x-small"
                icon-position="right"
                onclick={handleClear}
              ></lightning-button>
            </lightning-button-group>
          </div>
        </div>
      </lightning-card>
    </div>
  </template>
  <template if:true={isInvited}>
    <div class="slds-align_absolute-center slds-m-around_x-large">
      <lightning-card>
        <div class="slds-var-m-around_medium">
          <div class="slds-grid slds-wrap">
            <div
              class="
                slds-col
                slds-size_1-of-1
                slds-var-p-around_small
                slds-text-align_center
              "
            >
              <p class="header">
                <b>Thank you for filling out the information!</b>
              </p>
              <br />
              <p class="content slds-var-p-vertical_x-large">
                Weâ€™ve sent an email with login link to
                {invitedDealerRecord.Email} provided by you.
              </p>
              <br />
              <p class="slds-text-heading_medium">
                <lightning-button
                  variant="brand-outline"
                  label="Invite More Dealer"
                  title="Invite More Dealer"
                  onclick={handleInviteAgain}
                  class="slds-var-m-left_x-small"
                ></lightning-button>
              </p>
            </div>
          </div>
        </div>
      </lightning-card>
    </div>
  </template>
</template>
